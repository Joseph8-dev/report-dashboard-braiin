{"version":3,"file":"Login-DBpdhwTv.js","sources":["../../src/pages/auth/Login.vue"],"sourcesContent":["<template>\n  <VaForm\n    ref=\"form\"\n    class=\"max-w-md mx-auto mt-20 p-6 bg-white rounded-2xl shadow-2xl hover:shadow-3xl transition-shadow duration-300\"\n    @submit.prevent=\"submit\"\n  >\n    <h1 class=\"font-semibold text-4xl mb-6 text-center\">Iniciar sesión</h1>\n\n    <VaInput\n      v-model=\"formData.email\"\n      :rules=\"[validators.required]\"\n      class=\"mb-4\"\n      label=\"Usuario\"\n      type=\"text\"\n      rounded\n      border\n      placeholder=\"Ingresa tu nombre de usuario\"\n    />\n\n    <VaValue v-slot=\"isPasswordVisible\" :default-value=\"false\">\n      <VaInput\n        v-model=\"formData.password\"\n        :rules=\"[validators.required]\"\n        :type=\"isPasswordVisible.value ? 'text' : 'password'\"\n        class=\"mb-4\"\n        label=\"Contraseña\"\n        rounded\n        border\n        placeholder=\"Ingresa tu contraseña\"\n        @clickAppendInner.stop=\"isPasswordVisible.value = !isPasswordVisible.value\"\n      >\n        <template #appendInner>\n          <VaIcon\n            :name=\"isPasswordVisible.value ? 'mso-visibility_off' : 'mso-visibility'\"\n            class=\"cursor-pointer\"\n            color=\"secondary\"\n          />\n        </template>\n      </VaInput>\n    </VaValue>\n\n    <div class=\"flex justify-center mb-6\">\n      <VaCheckbox v-model=\"formData.keepLoggedIn\" label=\"Mantenerme conectado en este dispositivo\" />\n    </div>\n\n    <div class=\"flex justify-center\">\n      <VaButton\n        class=\"w-full py-3 font-semibold text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg transition-all\"\n        @click=\"submit\"\n      >\n        Iniciar sesión\n      </VaButton>\n    </div>\n  </VaForm>\n</template>\n\n<script lang=\"ts\" setup>\nimport { reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { validators } from '../../services/utils'\n\nconst { validate } = useForm('form')\nconst router = useRouter()\nconst { init } = useToast()\n\nconst formData = reactive({\n  email: '',\n  password: '',\n  keepLoggedIn: false,\n})\n\nconst submit = async () => {\n  if (!validate()) return\n\n  const response = await fetch('https://dev-sec.app/api/report-login', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({\n      username: formData.email,\n      password: formData.password,\n    }),\n  })\n\n  const data = await response.json()\n\n  if (data.success) {\n    localStorage.setItem('report_token', data.token)\n    localStorage.setItem('report_user', JSON.stringify(data.user))\n    init({ message: \"Has iniciado sesión correctamente\", color: 'success' })\n    router.push({ name: 'dashboard' })\n  } else {\n    init({ message: data.error || 'Credenciales inválidas', color: 'danger' })\n  }\n}\n</script>\n\n<style scoped>\nbody {\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #f3f4f6;\n}\n\n/* Enhance card shadow and hover effect */\n.va-form {\n  box-shadow:\n    0 10px 30px rgba(0, 0, 0, 0.12),\n    0 4px 12px rgba(0, 0, 0, 0.08);\n  transition: box-shadow 0.3s ease;\n}\n\n.va-form:hover {\n  box-shadow:\n    0 15px 40px rgba(0, 0, 0, 0.2),\n    0 6px 16px rgba(0, 0, 0, 0.12);\n}\n</style>\n"],"names":["validate","useForm","router","useRouter","init","useToast","formData","reactive","submit","data","_createBlock","_component_VaForm","_cache","_createElementVNode","_createVNode","_component_VaInput","$event","_unref","validators","_component_VaValue","_withCtx","isPasswordVisible","_component_VaIcon","_hoisted_1","_component_VaCheckbox","_hoisted_2","_component_VaButton"],"mappings":"uYA8DA,KAAM,CAAE,SAAAA,CAAA,EAAaC,EAAQ,MAAM,EAC7BC,EAASC,EAAA,EACT,CAAE,KAAAC,CAAA,EAASC,EAAA,EAEXC,EAAWC,EAAS,CACxB,MAAO,GACP,SAAU,GACV,aAAc,EAAA,CACf,EAEKC,EAAS,SAAY,CACzB,GAAI,CAACR,IAAY,OAWjB,MAAMS,EAAO,MATI,MAAM,MAAM,uCAAwC,CACnE,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAA,EAC3B,KAAM,KAAK,UAAU,CACnB,SAAUH,EAAS,MACnB,SAAUA,EAAS,QAAA,CACpB,CAAA,CACF,GAE2B,KAAA,EAExBG,EAAK,SACP,aAAa,QAAQ,eAAgBA,EAAK,KAAK,EAC/C,aAAa,QAAQ,cAAe,KAAK,UAAUA,EAAK,IAAI,CAAC,EAC7DL,EAAK,CAAE,QAAS,oCAAqC,MAAO,UAAW,EACvEF,EAAO,KAAK,CAAE,KAAM,WAAA,CAAa,GAEjCE,EAAK,CAAE,QAASK,EAAK,OAAS,yBAA0B,MAAO,SAAU,CAE7E,yDA7FEC,EAoDSC,EAAA,CAnDP,IAAI,OACJ,MAAM,6GACL,WAAgBH,EAAM,CAAA,SAAA,CAAA,CAAA,aAEvB,IAAuE,CAAvEI,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAuE,KAAA,CAAnE,MAAM,yCAAA,EAA0C,iBAAc,EAAA,GAElEC,EASEC,EAAA,CARS,WAAAT,EAAS,MAAT,sBAAAM,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAI,GAAAV,EAAS,MAAKU,GACtB,MAAK,CAAGC,EAAAC,CAAA,EAAW,QAAQ,EAC5B,MAAM,OACN,MAAM,UACN,KAAK,OACL,QAAA,GACA,OAAA,GACA,YAAY,8BAAA,iCAGdJ,EAoBUK,EAAA,CApB2B,gBAAe,IAAK,CACvD,QAAAC,EADeC,GAAiB,CAChCP,EAkBUC,EAAA,CAjBC,WAAAT,EAAS,SAAT,sBAAAM,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAI,GAAAV,EAAS,SAAQU,GACzB,MAAK,CAAGC,EAAAC,CAAA,EAAW,QAAQ,EAC3B,KAAMG,EAAkB,MAAK,OAAA,WAC9B,MAAM,OACN,MAAM,aACN,QAAA,GACA,OAAA,GACA,YAAY,wBACX,wBAAuBA,EAAkB,MAAK,CAAIA,EAAkB,MAAK,CAAA,MAAA,CAAA,CAAA,GAE/D,cACT,IAIE,CAJFP,EAIEQ,EAAA,CAHC,KAAMD,EAAkB,MAAK,qBAAA,iBAC9B,MAAM,iBACN,MAAM,WAAA,2FAMdR,EAEM,MAFNU,EAEM,CADJT,EAA+FU,EAAA,CAA1E,WAAAlB,EAAS,aAAT,sBAAAM,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAI,GAAAV,EAAS,aAAYU,GAAE,MAAM,0CAAA,2BAGpDH,EAOM,MAPNY,EAOM,CANJX,EAKWY,EAAA,CAJT,MAAM,qJACL,QAAOlB,CAAA,aACT,IAED,CAAA,GAAAI,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAFC,mBAED,EAAA,CAAA"}