import{u as I}from"./useForm-BWUmkJ3B.js";import{d as w,aa as y,e as k,f as s,i as a,Q as c,R as C,l as n,z as u,P as L,u as p,ah as S,E as B,Z as j,v as N,x as T,ai as U,j as F,_ as O}from"./index-rcdAqgAm.js";import{u as q}from"./useToast-7CJvFOK0.js";import{v as m}from"./utils-BDzxQcuE.js";const A={class:"notranslate",translate:"no"},D={class:"flex justify-center mb-6"},E={class:"flex justify-center"},H="mso-visibility",J="mso-visibility_off",M="Iniciar sesión",R="Usuario",z="Ingresa tu nombre de usuario",P="Contraseña",Q="Ingresa tu contraseña",Z="Mantenerme conectado en este dispositivo",$="Iniciar sesión",G=w({__name:"Login",setup(K){const{validate:_}=I("form"),f=U(),{init:r}=q(),o=y({email:"",password:"",keepLoggedIn:!1}),l=async()=>{if(!_())return;const e=await(await fetch("https://dev-sec.app/api/report-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o.email,password:o.password})})).json();e.success?(localStorage.setItem("report_token",e.token),localStorage.setItem("report_user",JSON.stringify(e.user)),r({message:"Has iniciado sesión correctamente",color:"success"}),f.push({name:"dashboard"})):r({message:e.error||"Credenciales inválidas",color:"danger"})};return(g,e)=>{const i=L,x=B,b=S,v=j,V=N,h=C;return F(),k("div",A,[s(h,{ref:"form",class:"max-w-md mx-auto mt-20 p-6 bg-white rounded-2xl shadow-2xl hover:shadow-3xl transition-shadow duration-300",onSubmit:c(l,["prevent"])},{default:a(()=>[n("h1",{class:"font-semibold text-4xl mb-6 text-center"},u(M)),s(i,{modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=t=>o.email=t),rules:[p(m).required],class:"mb-4",label:R,type:"text",rounded:"",border:"",placeholder:z},null,8,["modelValue","rules"]),s(b,{"default-value":!1},{default:a(t=>[s(i,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=d=>o.password=d),rules:[p(m).required],type:t.value?"text":"password",class:"mb-4",label:P,rounded:"",border:"",placeholder:Q,onClickAppendInner:c(d=>t.value=!t.value,["stop"])},{appendInner:a(()=>[s(x,{name:t.value?J:H,class:"cursor-pointer",color:"secondary"},null,8,["name"])]),_:2},1032,["modelValue","rules","type","onClickAppendInner"])]),_:1}),n("div",D,[s(v,{modelValue:o.keepLoggedIn,"onUpdate:modelValue":e[2]||(e[2]=t=>o.keepLoggedIn=t),label:Z},null,8,["modelValue"])]),n("div",E,[s(V,{class:"w-full py-3 font-semibold text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg transition-all",onClick:l},{default:a(()=>[T(u($))]),_:1})])]),_:1},512)])}}}),oe=O(G,[["__scopeId","data-v-6cb121d1"]]);export{oe as default};
//# sourceMappingURL=Login-1HzYUZuR.js.map
