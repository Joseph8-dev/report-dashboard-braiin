import{u as h}from"./useForm-CjSjMmQi.js";import{d as I,aa as w,e as y,f as t,i as s,Q as u,R as k,l as n,P as C,u as m,ah as S,E as j,Z as B,v as L,x as N,ai as T,j as U,_ as F}from"./index-CV2Thbee.js";import{u as O}from"./useToast-CZhelEv2.js";import{v as c}from"./utils-BDzxQcuE.js";const q={class:"notranslate",translate:"no"},A={class:"flex justify-center mb-6"},E={class:"flex justify-center"},J=I({__name:"Login",setup(M){const{validate:p}=h("form"),f=T(),{init:r}=O(),o=w({email:"",password:"",keepLoggedIn:!1}),l=async()=>{if(!p())return;const e=await(await fetch("https://dev-sec.app/api/report-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o.email,password:o.password})})).json();e.success?(localStorage.setItem("report_token",e.token),localStorage.setItem("report_user",JSON.stringify(e.user)),r({message:"Has iniciado sesión correctamente",color:"success"}),f.push({name:"dashboard"})):r({message:e.error||"Credenciales inválidas",color:"danger"})};return(_,e)=>{const i=C,g=j,v=S,V=B,b=L,x=k;return U(),y("div",q,[t(x,{ref:"form",class:"max-w-md mx-auto mt-20 p-6 bg-white rounded-2xl shadow-2xl hover:shadow-3xl transition-shadow duration-300",onSubmit:u(l,["prevent"])},{default:s(()=>[e[4]||(e[4]=n("h1",{class:"font-semibold text-4xl mb-6 text-center"},"Iniciar sesión",-1)),t(i,{modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=a=>o.email=a),rules:[m(c).required],class:"mb-4",label:"Usuario",type:"text",rounded:"",border:"",placeholder:"Ingresa tu nombre de usuario"},null,8,["modelValue","rules"]),t(v,{"default-value":!1},{default:s(a=>[t(i,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=d=>o.password=d),rules:[m(c).required],type:a.value?"text":"password",class:"mb-4",label:"Contraseña",rounded:"",border:"",placeholder:"Ingresa tu contraseña",onClickAppendInner:u(d=>a.value=!a.value,["stop"])},{appendInner:s(()=>[t(g,{name:a.value?"mso-visibility_off":"mso-visibility",class:"cursor-pointer",color:"secondary"},null,8,["name"])]),_:2},1032,["modelValue","rules","type","onClickAppendInner"])]),_:1}),n("div",A,[t(V,{modelValue:o.keepLoggedIn,"onUpdate:modelValue":e[2]||(e[2]=a=>o.keepLoggedIn=a),label:"Mantenerme conectado en este dispositivo"},null,8,["modelValue"])]),n("div",E,[t(b,{class:"w-full py-3 font-semibold text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg transition-all",onClick:l},{default:s(()=>[...e[3]||(e[3]=[N(" Iniciar sesión ",-1)])]),_:1})])]),_:1},512)])}}}),Z=F(J,[["__scopeId","data-v-64bc0caf"]]);export{Z as default};
//# sourceMappingURL=Login-_wiXY7Sa.js.map
