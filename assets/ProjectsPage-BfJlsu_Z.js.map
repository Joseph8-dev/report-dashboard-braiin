{"version":3,"file":"ProjectsPage-BfJlsu_Z.js","sources":["../../src/pages/projects/components/ProjectStatusBadge.vue","../../src/pages/projects/widgets/ProjectCards.vue","../../src/pages/projects/widgets/ProjectsTable.vue","../../src/pages/projects/widgets/EditProjectForm.vue","../../src/pages/projects/ProjectsPage.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { PropType } from 'vue'\nimport { Project } from '../types'\n\ndefineProps({\n  status: {\n    type: String as PropType<Project['status']>,\n    required: true,\n  },\n})\n\nconst badgeColorMap: Record<Project['status'], string> = {\n  'in progress': 'primary',\n  archived: 'secondary',\n  completed: 'success',\n  important: 'warning',\n}\n</script>\n\n<template>\n  <VaBadge square :color=\"badgeColorMap[$props.status]\" :text=\"$props.status.toUpperCase()\" />\n</template>\n","<script setup lang=\"ts\">\nimport { type PropType, inject } from 'vue'\nimport { type Project } from '../types'\nimport ProjectStatusBadge from '../components/ProjectStatusBadge.vue'\n\ndefineProps({\n  projects: {\n    type: Array as PropType<Project[]>,\n    required: true,\n  },\n  loading: {\n    type: Boolean,\n    required: true,\n  },\n})\n\ndefineEmits<{\n  (event: 'edit', project: Project): void\n  (event: 'delete', project: Project): void\n}>()\n\nconst { getUserById, getTeamOptions } = inject<any>('ProjectsPage')\n</script>\n\n<template>\n  <VaInnerLoading\n    v-if=\"projects.length > 0 || loading\"\n    :loading=\"loading\"\n    class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 min-h-[4rem]\"\n  >\n    <VaCard\n      v-for=\"project in projects\"\n      :key=\"project.project_name\"\n      :style=\"{ '--va-card-outlined-border': '1px solid var(--va-background-element)' }\"\n      outlined\n    >\n      <VaCardContent class=\"flex flex-col h-full\">\n        <div class=\"text-[var(--va-secondary)]\">{{ new Date(project.created_at).toLocaleDateString() }}</div>\n        <div class=\"flex flex-col items-center gap-4 grow\">\n          <h4 class=\"va-h4 text-center self-stretch overflow-hidden line-clamp-2 text-ellipsis\">\n            {{ project.project_name }}\n          </h4>\n          <p>\n            <span class=\"text-[var(--va-secondary)]\">Owner: </span>\n            <span v-if=\"getUserById(project.project_owner)\">{{ getUserById(project.project_owner)!.fullname }}</span>\n          </p>\n          <VaAvatarGroup class=\"my-4\" :options=\"getTeamOptions(project.team)\" :max=\"5\" />\n          <ProjectStatusBadge :status=\"project.status\" />\n        </div>\n        <VaDivider class=\"my-6\" />\n        <div class=\"flex justify-between\">\n          <VaButton preset=\"secondary\" icon=\"mso-edit\" color=\"secondary\" @click=\"$emit('edit', project)\" />\n          <VaButton preset=\"secondary\" icon=\"mso-delete\" color=\"danger\" @click=\"$emit('delete', project)\" />\n        </div>\n      </VaCardContent>\n    </VaCard>\n  </VaInnerLoading>\n  <div v-else class=\"p-4 flex justify-center items-center text-[var(--va-secondary)]\">No projects</div>\n</template>\n","<script setup lang=\"ts\">\nimport { PropType, computed, inject } from 'vue'\nimport { defineVaDataTableColumns } from 'vuestic-ui'\nimport { Project } from '../types'\nimport UserAvatar from '../../users/widgets/UserAvatar.vue'\nimport ProjectStatusBadge from '../components/ProjectStatusBadge.vue'\nimport { Pagination, Sorting } from '../../../data/pages/projects'\nimport { useVModel } from '@vueuse/core'\n\nconst columns = defineVaDataTableColumns([\n  { label: 'Project name', key: 'project_name', sortable: true },\n  { label: 'Project owner', key: 'project_owner', sortable: true },\n  { label: 'Team', key: 'team', sortable: true },\n  { label: 'Status', key: 'status', sortable: true },\n  { label: 'Creation Date', key: 'created_at', sortable: true },\n  { label: ' ', key: 'actions' },\n])\n\nconst props = defineProps({\n  projects: {\n    type: Array as PropType<Project[]>,\n    required: true,\n  },\n  loading: {\n    type: Boolean,\n    required: true,\n  },\n  sortBy: {\n    type: String as PropType<Sorting['sortBy']>,\n    default: undefined,\n  },\n  sortingOrder: {\n    type: String as PropType<Sorting['sortingOrder']>,\n    default: undefined,\n  },\n  pagination: {\n    type: Object as PropType<Pagination>,\n    required: true,\n  },\n})\n\nconst emit = defineEmits<{\n  (event: 'edit', project: Project): void\n  (event: 'delete', project: Project): void\n}>()\n\nconst sortByVModel = useVModel(props, 'sortBy', emit)\nconst sortingOrderVModel = useVModel(props, 'sortingOrder', emit)\n\nconst totalPages = computed(() => Math.ceil(props.pagination.total / props.pagination.perPage))\nconst { getUserById, getTeamOptions } = inject<any>('ProjectsPage')\n</script>\n\n<template>\n  <div>\n    <VaDataTable\n      v-model:sort-by=\"sortByVModel\"\n      v-model:sorting-order=\"sortingOrderVModel\"\n      :items=\"projects\"\n      :columns=\"columns\"\n      :loading=\"loading\"\n    >\n      <template #cell(project_name)=\"{ rowData }\">\n        <div class=\"ellipsis max-w-[230px] lg:max-w-[450px]\">\n          {{ rowData.project_name }}\n        </div>\n      </template>\n      <template #cell(project_owner)=\"{ rowData }\">\n        <div v-if=\"getUserById(rowData.project_owner)\" class=\"flex items-center gap-2 ellipsis max-w-[230px]\">\n          <UserAvatar :user=\"getUserById(rowData.project_owner)\" size=\"small\" />\n          {{ getUserById(rowData.project_owner).fullname }}\n        </div>\n      </template>\n      <template #cell(team)=\"{ rowData: project }\">\n        <VaAvatarGroup size=\"small\" :options=\"getTeamOptions(project.team)\" :max=\"5\" />\n      </template>\n      <template #cell(status)=\"{ rowData: project }\">\n        <ProjectStatusBadge :status=\"project.status\" />\n      </template>\n\n      <template #cell(created_at)=\"{ rowData: project }\">\n        {{ new Date(project.created_at).toLocaleDateString() }}\n      </template>\n\n      <template #cell(actions)=\"{ rowData: project }\">\n        <div class=\"flex gap-2 justify-end\">\n          <VaButton\n            preset=\"primary\"\n            size=\"small\"\n            color=\"primary\"\n            icon=\"mso-edit\"\n            aria-label=\"Edit project\"\n            @click=\"$emit('edit', project as Project)\"\n          />\n          <VaButton\n            preset=\"primary\"\n            size=\"small\"\n            icon=\"mso-delete\"\n            color=\"danger\"\n            aria-label=\"Delete project\"\n            @click=\"$emit('delete', project as Project)\"\n          />\n        </div>\n      </template>\n    </VaDataTable>\n    <div class=\"flex flex-col-reverse md:flex-row gap-2 justify-between items-center py-2\">\n      <div>\n        <b>{{ $props.pagination.total }} results.</b>\n        Results per page\n        <VaSelect v-model=\"$props.pagination.perPage\" class=\"!w-20\" :options=\"[10, 50, 100]\" />\n      </div>\n\n      <div v-if=\"totalPages > 1\" class=\"flex\">\n        <VaButton\n          preset=\"secondary\"\n          icon=\"va-arrow-left\"\n          aria-label=\"Previous page\"\n          :disabled=\"$props.pagination.page === 1\"\n          @click=\"$props.pagination.page--\"\n        />\n        <VaButton\n          class=\"mr-2\"\n          preset=\"secondary\"\n          icon=\"va-arrow-right\"\n          aria-label=\"Next page\"\n          :disabled=\"$props.pagination.page === totalPages\"\n          @click=\"$props.pagination.page++\"\n        />\n        <VaPagination\n          v-model=\"$props.pagination.page\"\n          buttons-preset=\"secondary\"\n          :pages=\"totalPages\"\n          :visible-pages=\"5\"\n          :boundary-links=\"false\"\n          :direction-links=\"false\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.va-data-table {\n  ::v-deep(tbody .va-data-table__table-tr) {\n    border-bottom: 1px solid var(--va-background-border);\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport { computed, ref, watch } from 'vue'\nimport { EmptyProject, Project } from '../types'\nimport { SelectOption, useBreakpoint } from 'vuestic-ui'\nimport ProjectStatusBadge from '../components/ProjectStatusBadge.vue'\nimport UserAvatar from '../../users/widgets/UserAvatar.vue'\nimport { useUsersStore } from '../../../stores/users'\n\nconst props = defineProps<{\n  project: Project | null\n  saveButtonLabel: string\n}>()\n\ndefineEmits<{\n  (event: 'save', project: Project): void\n  (event: 'close'): void\n}>()\n\nconst bp = useBreakpoint()\n\nconst defaultNewProject: EmptyProject = {\n  project_name: '',\n  project_owner: undefined,\n  team: [],\n  status: undefined,\n}\n\nconst newProject = ref({ ...defaultNewProject })\n\nconst isFormHasUnsavedChanges = computed(() => {\n  return Object.keys(newProject.value).some((key) => {\n    if (key === 'team') {\n      return false\n    }\n\n    return (\n      newProject.value[key as keyof EmptyProject] !== (props.project ?? defaultNewProject)?.[key as keyof EmptyProject]\n    )\n  })\n})\n\ndefineExpose({\n  isFormHasUnsavedChanges,\n})\n\nconst usersStore = useUsersStore()\n\nwatch(\n  () => props.project,\n  () => {\n    if (!props.project) {\n      return\n    }\n\n    newProject.value = {\n      ...props.project,\n      project_owner: props.project.project_owner,\n    }\n  },\n  { immediate: true },\n)\n\nconst required = (v: string | SelectOption) => !!v || 'Este campo es obligatorio'\n\nconst ownerFiltersSearch = ref('')\nconst teamFiltersSearch = ref('')\n</script>\n\n<template>\n  <VaForm v-slot=\"{ validate }\" class=\"flex flex-col gap-2\">\n    <VaInput v-model=\"newProject.project_name\" label=\"Project name\" :rules=\"[required]\" />\n    <VaSelect\n      v-model=\"newProject.project_owner\"\n      v-model:search=\"ownerFiltersSearch\"\n      searchable\n      label=\"Owner\"\n      text-by=\"fullname\"\n      track-by=\"id\"\n      value-by=\"id\"\n      :rules=\"[required]\"\n      :options=\"usersStore.items\"\n    >\n      <template #content=\"{ value: user }\">\n        <div v-if=\"user\" :key=\"user.id\" class=\"flex items-center gap-1 mr-4\">\n          <UserAvatar v-if=\"false\" :user=\"user\" size=\"18px\" />\n          {{ user.fullname }}\n        </div>\n      </template>\n    </VaSelect>\n    <VaSelect\n      v-model=\"newProject.team\"\n      v-model:search=\"teamFiltersSearch\"\n      label=\"Team\"\n      text-by=\"fullname\"\n      track-by=\"id\"\n      value-by=\"id\"\n      multiple\n      :rules=\"[(v: any) => ('length' in v && v.length > 0) || 'Este campo es obligatorio']\"\n      :options=\"usersStore.items\"\n      :max-visible-options=\"bp.mdUp ? 3 : 1\"\n    >\n      <template #content=\"{ valueArray }\">\n        <template v-if=\"valueArray?.length\">\n          <div v-for=\"(user, index) in valueArray\" :key=\"user.id\" class=\"flex items-center gap-1 mr-2\">\n            <UserAvatar v-if=\"user\" :user=\"user\" size=\"18px\" />\n            {{ user.fullname }}{{ index < valueArray.length - 1 ? ',' : '' }}\n          </div>\n        </template>\n      </template>\n    </VaSelect>\n    <VaSelect\n      v-model=\"newProject.status\"\n      label=\"Status\"\n      :rules=\"[required]\"\n      track-by=\"value\"\n      value-by=\"value\"\n      :options=\"[\n        { text: 'In progress', value: 'in progress' },\n        { text: 'Archived', value: 'archived' },\n        { text: 'Completed', value: 'completed' },\n        { text: 'Important', value: 'important' },\n      ]\"\n    >\n      <template #content=\"{ value }\">\n        <ProjectStatusBadge v-if=\"value\" :status=\"value.value\" />\n      </template>\n    </VaSelect>\n    <div class=\"flex justify-end flex-col-reverse sm:flex-row mt-4 gap-2\">\n      <VaButton preset=\"secondary\" color=\"secondary\" @click=\"$emit('close')\">Cancel</VaButton>\n      <VaButton @click=\"validate() && $emit('save', newProject as Project)\">{{ saveButtonLabel }}</VaButton>\n    </div>\n  </VaForm>\n</template>\n\n<style lang=\"scss\" scoped>\n.va-select-content__autocomplete {\n  flex: 1;\n}\n\n.va-input-wrapper__text {\n  gap: 0.2rem;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { ref, provide } from 'vue'\nimport { useLocalStorage } from '@vueuse/core'\nimport { useProjects } from './composables/useProjects'\nimport ProjectCards from './widgets/ProjectCards.vue'\nimport ProjectTable from './widgets/ProjectsTable.vue'\nimport EditProjectForm from './widgets/EditProjectForm.vue'\nimport { Project } from './types'\nimport { useModal, useToast } from 'vuestic-ui'\nimport { useProjectUsers } from './composables/useProjectUsers'\n\nconst doShowAsCards = useLocalStorage('projects-view', true)\n\nconst { projects, update, add, isLoading, remove, pagination, sorting } = useProjects()\n\nconst { users, getTeamOptions, getUserById } = useProjectUsers()\n\nprovide('ProjectsPage', {\n  users,\n  getTeamOptions,\n  getUserById,\n})\n\nconst projectToEdit = ref<Project | null>(null)\nconst doShowProjectFormModal = ref(false)\n\nconst editProject = (project: Project) => {\n  projectToEdit.value = project\n  doShowProjectFormModal.value = true\n}\n\nconst createNewProject = () => {\n  projectToEdit.value = null\n  doShowProjectFormModal.value = true\n}\n\nconst { init: notify } = useToast()\n\nconst onProjectSaved = async (project: Project) => {\n  doShowProjectFormModal.value = false\n  if ('id' in project) {\n    await update(project as Project)\n    notify({\n      message: 'Project updated',\n      color: 'success',\n    })\n  } else {\n    await add(project as Project)\n    notify({\n      message: 'Project created',\n      color: 'success',\n    })\n  }\n}\n\nconst { confirm } = useModal()\n\nconst onProjectDeleted = async (project: Project) => {\n  const response = await confirm({\n    title: 'Delete project',\n    message: `Are you sure you want to delete project \"${project.project_name}\"?`,\n    okText: 'Delete',\n    size: 'small',\n    maxWidth: '380px',\n  })\n\n  if (!response) {\n    return\n  }\n\n  await remove(project)\n  notify({\n    message: 'Project deleted',\n    color: 'success',\n  })\n}\n\nconst editFormRef = ref()\n\nconst beforeEditFormModalClose = async (hide: () => unknown) => {\n  if (editFormRef.value.isFormHasUnsavedChanges) {\n    const agreed = await confirm({\n      maxWidth: '380px',\n      message: 'Form has unsaved changes. Are you sure you want to close it?',\n      size: 'small',\n    })\n    if (agreed) {\n      hide()\n    }\n  } else {\n    hide()\n  }\n}\n</script>\n\n<template>\n  <h1 class=\"page-title\">Projects</h1>\n\n  <VaCard>\n    <VaCardContent>\n      <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between\">\n        <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n          <VaButtonToggle\n            v-model=\"doShowAsCards\"\n            color=\"background-element\"\n            border-color=\"background-element\"\n            :options=\"[\n              { label: 'Cards', value: true },\n              { label: 'Table', value: false },\n            ]\"\n          />\n        </div>\n        <VaButton icon=\"add\" @click=\"createNewProject\">Project</VaButton>\n      </div>\n\n      <ProjectCards\n        v-if=\"doShowAsCards\"\n        :projects=\"projects\"\n        :loading=\"isLoading\"\n        @edit=\"editProject\"\n        @delete=\"onProjectDeleted\"\n      />\n      <ProjectTable\n        v-else\n        v-model:sort-by=\"sorting.sortBy\"\n        v-model:sorting-order=\"sorting.sortingOrder\"\n        v-model:pagination=\"pagination\"\n        :projects=\"projects\"\n        :loading=\"isLoading\"\n        @edit=\"editProject\"\n        @delete=\"onProjectDeleted\"\n      />\n    </VaCardContent>\n\n    <VaModal\n      v-slot=\"{ cancel, ok }\"\n      v-model=\"doShowProjectFormModal\"\n      size=\"small\"\n      mobile-fullscreen\n      close-button\n      stateful\n      hide-default-actions\n      :before-cancel=\"beforeEditFormModalClose\"\n    >\n      <h1 v-if=\"projectToEdit === null\" class=\"va-h5 mb-4\">Add project</h1>\n      <h1 v-else class=\"va-h5 mb-4\">Edit project</h1>\n      <EditProjectForm\n        ref=\"editFormRef\"\n        :project=\"projectToEdit\"\n        :save-button-label=\"projectToEdit === null ? 'Add' : 'Save'\"\n        @close=\"cancel\"\n        @save=\"\n          (project) => {\n            onProjectSaved(project)\n            ok()\n          }\n        \"\n      />\n    </VaModal>\n  </VaCard>\n</template>\n"],"names":["badgeColorMap","_createBlock","_component_VaBadge","$props","getUserById","getTeamOptions","inject","__props","_component_VaInnerLoading","_createElementBlock","_Fragment","_renderList","project","_component_VaCard","_createVNode","_component_VaCardContent","_createElementVNode","_hoisted_1","_toDisplayString","_hoisted_2","_hoisted_3","_cache","_unref","_openBlock","_component_VaAvatarGroup","ProjectStatusBadge","_component_VaDivider","_hoisted_5","_component_VaButton","$event","$emit","_hoisted_6","columns","defineVaDataTableColumns","props","emit","__emit","sortByVModel","useVModel","sortingOrderVModel","totalPages","computed","_component_VaDataTable","_withCtx","rowData","UserAvatar","_createTextVNode","_hoisted_4","_component_VaSelect","_component_VaPagination","bp","useBreakpoint","defaultNewProject","newProject","ref","isFormHasUnsavedChanges","key","_a","__expose","usersStore","useUsersStore","watch","required","v","ownerFiltersSearch","teamFiltersSearch","_component_VaForm","validate","_component_VaInput","user","valueArray","index","value","doShowAsCards","useLocalStorage","projects","update","add","isLoading","remove","pagination","sorting","useProjects","users","useProjectUsers","provide","projectToEdit","doShowProjectFormModal","editProject","createNewProject","notify","useToast","onProjectSaved","confirm","useModal","onProjectDeleted","editFormRef","beforeEditFormModalClose","hide","_component_VaButtonToggle","ProjectCards","ProjectTable","_component_VaModal","cancel","ok","EditProjectForm"],"mappings":"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"}