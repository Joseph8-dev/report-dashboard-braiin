import{u as h}from"./useForm-D39nNkzf.js";import{d as w,a9 as y,e as I,f as s,P as i,Q as k,l as n,j as a,u as m,O as C,D as L,ah as S,Y as j,q as B,p as N,ai as O,i as T,_ as U}from"./index-Bv47ImVM.js";import{u as q}from"./useToast-B0l8uFXU.js";import{v as p}from"./utils-Blx_SZM_.js";const F={class:"flex justify-center mb-6"},A={class:"flex justify-center"},D=w({__name:"Login",setup(E){const{validate:c}=h("form"),f=O(),{init:r}=q(),o=y({email:"",password:"",keepLoggedIn:!1}),l=async()=>{if(!c())return;const e=await(await fetch("https://dev-sec.app/api/report-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o.email,password:o.password})})).json();e.success?(localStorage.setItem("report_token",e.token),localStorage.setItem("report_user",JSON.stringify(e.user)),r({message:"You've successfully logged in",color:"success"}),f.push({name:"dashboard"})):r({message:e.error||"Invalid credentials",color:"danger"})};return(g,e)=>{const d=C,_=L,v=S,V=j,b=N,x=k;return T(),I(x,{ref:"form",class:"max-w-md mx-auto mt-20 p-6 bg-white rounded-2xl shadow-2xl hover:shadow-3xl transition-shadow duration-300",onSubmit:i(l,["prevent"])},{default:s(()=>[e[4]||(e[4]=n("h1",{class:"font-semibold text-4xl mb-6 text-center"},"Log in",-1)),a(d,{modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=t=>o.email=t),rules:[m(p).required],class:"mb-4",label:"Username",type:"text",rounded:"",border:"",placeholder:"Enter your username"},null,8,["modelValue","rules"]),a(v,{"default-value":!1},{default:s(t=>[a(d,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=u=>o.password=u),rules:[m(p).required],type:t.value?"text":"password",class:"mb-4",label:"Password",rounded:"",border:"",placeholder:"Enter your password",onClickAppendInner:i(u=>t.value=!t.value,["stop"])},{appendInner:s(()=>[a(_,{name:t.value?"mso-visibility_off":"mso-visibility",class:"cursor-pointer",color:"secondary"},null,8,["name"])]),_:2},1032,["modelValue","rules","type","onClickAppendInner"])]),_:1}),n("div",F,[a(V,{modelValue:o.keepLoggedIn,"onUpdate:modelValue":e[2]||(e[2]=t=>o.keepLoggedIn=t),label:"Keep me signed in on this device"},null,8,["modelValue"])]),n("div",A,[a(b,{class:"w-full py-3 font-semibold text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg transition-all",onClick:l},{default:s(()=>[...e[3]||(e[3]=[B(" Login ",-1)])]),_:1})])]),_:1},512)}}}),Q=U(D,[["__scopeId","data-v-4c8445d6"]]);export{Q as default};
//# sourceMappingURL=Login-kHHcsWg_.js.map
