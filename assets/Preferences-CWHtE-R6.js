import{I as L,d as k,e as P,F as R,f as l,l as e,M as Y,i as u,z as N,u as c,j as w,c as z,v as C,A as y,K as H,N as K,x as f,r as $,m as F,O as B,P as O,Q as I,R as T,E as Q,p as q}from"./index-rcdAqgAm.js";import{u as S}from"./useToast-7CJvFOK0.js";import{u as G}from"./useForm-BWUmkJ3B.js";const E=L("user",{state:()=>({userName:"Vasili Savitski",email:"vasili@gmail.com",memberSince:"8/12/2020",pfp:"https://picsum.photos/id/22/200/300",is2FAEnabled:!1}),actions:{toggle2FA(){this.is2FAEnabled=!this.is2FAEnabled},changeUserName(b){this.userName=b}}}),J={class:"flex flex-col justify-center"},W={class:"text-[28px] md:text-[32px] leading-10 font-bold"},X={class:"flex space-x-1 text-[13px] leading-4"},Z=k({__name:"PreferencesHeader",setup(b){const m=E();return(n,r)=>{const o=Y;return w(),P(R,null,[l(o,{size:"large",color:"warning"},{default:u(()=>[...r[0]||(r[0]=[e("span",{class:"text-4xl"}," ðŸ˜ ",-1)])]),_:1}),e("div",J,[e("h2",W,N(c(m).userName),1),e("div",X,[r[1]||(r[1]=e("p",null,"Member since",-1)),e("p",null,N(c(m).memberSince),1)])])],64)}}}),_={"--va-button-font-size":"14px","--va-button-line-height":"20px"},ee={class:"flex flex-col md:flex-row md:items-center space-y-2 md:space-y-0 md:space-x-6 min-h-[36px] leading-5"},se={class:"flex-1"},te={class:"max-w-[748px]"},oe={class:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-6 min-h-[36px] leading-5"},le={class:"flex-1"},ae={class:"max-w-[748px]"},ne={class:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-6 min-h-[36px] leading-5"},de={class:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-6 min-h-[36px] leading-5"},re={class:"flex-1"},ie={class:"max-w-[748px]"},ue={class:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-6 min-h-[36px] leading-5"},me={class:"flex-1"},ce={class:"max-w-[748px]"},pe={class:"flex space-x-1 w-fit"},fe=k({__name:"Settings",emits:["openNameModal","openResetPasswordModal"],setup(b,{emit:m}){const n=E(),{init:r}=S(),o=z(()=>n.is2FAEnabled?"2FA successfully enabled":"2FA successfully disabled"),i=z(()=>n.is2FAEnabled?{color:"danger",button:"Disable 2FA",content:"Two-Factor Authentication (2FA) is now enabled for your account, adding an extra layer of security to your sign-ins."}:{color:"primary",button:"Set up 2FA",content:"Add an extra layer of security to your account. To sign in, youâ€™ll need to provide a code along with your username and password."}),g=()=>{n.toggle2FA(),r({message:o.value,color:"success"})},x=m;return(d,s)=>{const p=C,v=H,a=K("RouterLink");return w(),P(R,null,[e("div",ee,[s[3]||(s[3]=e("p",{class:"font-bold w-[200px]"},"Name",-1)),e("div",se,[e("div",te,N(c(n).userName),1)]),l(p,{style:y(c(_)),class:"w-fit h-fit",preset:"primary",onClick:s[0]||(s[0]=t=>x("openNameModal"))},{default:u(()=>[...s[2]||(s[2]=[f(" Edit ",-1)])]),_:1},8,["style"])]),l(v),e("div",oe,[s[4]||(s[4]=e("p",{class:"font-bold w-[200px]"},"Email",-1)),e("div",le,[e("div",ae,N(c(n).email),1)])]),e("div",ne,[s[6]||(s[6]=e("p",{class:"font-bold w-[200px]"},"Password",-1)),s[7]||(s[7]=e("div",{class:"flex-1"},[e("div",{class:"max-w-[748px]"},"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢")],-1)),l(p,{style:y(c(_)),class:"w-fit h-fit",preset:"primary",onClick:s[1]||(s[1]=t=>x("openResetPasswordModal"))},{default:u(()=>[...s[5]||(s[5]=[f(" Reset Password ",-1)])]),_:1},8,["style"])]),l(v),e("div",de,[s[8]||(s[8]=e("p",{class:"font-bold w-[200px]"},"Two-factor authentication",-1)),e("div",re,[e("div",ie,N(i.value.content),1)]),l(p,{style:y(c(_)),class:"w-fit h-fit",preset:"primary",color:i.value.color,onClick:g},{default:u(()=>[f(N(i.value.button),1)]),_:1},8,["style","color"])]),l(v),e("div",ue,[s[11]||(s[11]=e("p",{class:"font-bold w-[200px]"},"Email subscriptions",-1)),e("div",me,[e("div",ce,[s[10]||(s[10]=e("p",null,"To manage what emails you get, visit the",-1)),e("div",pe,[l(a,{to:{name:"settings"},class:"font-semibold text-primary"},{default:u(()=>[...s[9]||(s[9]=[f("Notification settings",-1)])]),_:1})])])])])],64)}}}),xe={class:"flex flex-col-reverse md:flex-row md:items-center md:justify-end md:space-x-4"},ve=k({__name:"EditNameModal",emits:["cancel"],setup(b,{emit:m}){const n=E(),{init:r}=S(),o=m,i=$(n.userName),g=()=>{if(!i.value||i.value===n.userName)return o("cancel");n.changeUserName(i.value),r({message:"You've successfully changed your name",color:"success"}),o("cancel")};return(x,d)=>{const s=O,p=C,v=T,a=B;return w(),F(a,{"mobile-fullscreen":!1,size:"small","hide-default-actions":"","max-width":"380px","model-value":"","close-button":"","onUpdate:modelValue":d[2]||(d[2]=t=>o("cancel"))},{default:u(()=>[d[5]||(d[5]=e("h1",{class:"va-h5 mb-4"},"Reset password",-1)),l(v,{ref:"form",onSubmit:I(g,["prevent"])},{default:u(()=>[l(s,{modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=t=>i.value=t),class:"mb-4",label:"Name",placeholder:"Name"},null,8,["modelValue"]),e("div",xe,[l(p,{style:y(c(_)),preset:"secondary",color:"secondary",onClick:d[1]||(d[1]=t=>o("cancel"))},{default:u(()=>[...d[3]||(d[3]=[f(" Cancel",-1)])]),_:1},8,["style"]),l(p,{style:y(c(_)),class:"mb-4 md:mb-0",type:"submit",onClick:g},{default:u(()=>[...d[4]||(d[4]=[f(" Save",-1)])]),_:1},8,["style"])])]),_:1},512)]),_:1})}}}),we={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ye={class:"flex flex-col space-y-2"},_e={class:"flex space-x-2 items-center"},be={class:"flex space-x-2 items-center"},ge={class:"flex flex-col-reverse md:justify-end md:flex-row md:space-x-4"},Ve=k({__name:"ResetPasswordModal",emits:["cancel"],setup(b,{emit:m}){const n=$(),r=$(),o=$(),{validate:i}=G("form"),{init:g}=S(),x=m,d=()=>{i()&&(g({message:"You've successfully changed your password",color:"success"}),x("cancel"))},s=[a=>!!a||"Old password field is required"],p=[a=>!!a||"New password field is required",a=>(a==null?void 0:a.length)>=8||"Must be at least 8 characters long",a=>new Set(a).size>=6||"Must contain at least 6 unique characters",a=>a!==n.value||"New password cannot be the same"],v=[a=>!!a||"Repeat new password field is required",a=>a===r.value||"Confirm password does not match new password"];return(a,t)=>{const M=O,h=Q,U=C,j=T,D=B;return w(),F(D,{"max-width":"530px","mobile-fullscreen":!1,"hide-default-actions":"","model-value":"","close-button":"","onUpdate:modelValue":t[4]||(t[4]=A=>x("cancel"))},{default:u(()=>[t[10]||(t[10]=e("h1",{class:"va-h5 mb-4"},"Reset password",-1)),l(j,{ref:"form",class:"space-y-6",onSubmit:I(d,["prevent"])},{default:u(()=>{var A;return[e("div",we,[l(M,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=V=>n.value=V),rules:s,label:"Old password",placeholder:"Old password","required-mark":"",type:"password"},null,8,["modelValue"]),t[5]||(t[5]=e("div",{class:"hidden md:block"},null,-1)),l(M,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=V=>r.value=V),rules:p,label:"New password",placeholder:"New password","required-mark":"",type:"password"},null,8,["modelValue"]),l(M,{modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=V=>o.value=V),rules:v,label:"Repeat new password",placeholder:"Repeat new password","required-mark":"",type:"password"},null,8,["modelValue"])]),e("div",ye,[e("div",_e,[e("div",null,[l(h,{name:((A=r.value)==null?void 0:A.length)>=8?"mso-check":"mso-close",color:"secondary",size:"20px"},null,8,["name"])]),t[6]||(t[6]=e("p",null,"Must be at least 8 characters long",-1))]),e("div",be,[e("div",null,[l(h,{name:new Set(r.value).size>=6?"mso-check":"mso-close",color:"secondary",size:"20px"},null,8,["name"])]),t[7]||(t[7]=e("p",null,"Must contain at least 6 unique characters",-1))])]),e("div",ge,[l(U,{style:y(c(_)),preset:"secondary",color:"secondary",onClick:t[3]||(t[3]=V=>x("cancel"))},{default:u(()=>[...t[8]||(t[8]=[f(" Cancel",-1)])]),_:1},8,["style"]),l(U,{style:y(c(_)),class:"mb-4 md:mb-0",type:"submit",onClick:d},{default:u(()=>[...t[9]||(t[9]=[f(" Update Password",-1)])]),_:1},8,["style"])])]}),_:1},512)]),_:1})}}}),Ne={class:"flex flex-col p-4 space-y-10 bg-backgroundSecondary rounded-lg"},$e={class:"flex space-x-5"},ke={class:"space-y-4 md:space-y-6"},Pe=k({__name:"Preferences",setup(b){const m=$(!1),n=$(!1);return(r,o)=>(w(),P(R,null,[o[4]||(o[4]=e("h1",{class:"page-title"},"Preferences",-1)),e("div",Ne,[e("div",$e,[l(Z)]),e("div",ke,[l(fe,{onOpenNameModal:o[0]||(o[0]=i=>m.value=!0),onOpenResetPasswordModal:o[1]||(o[1]=i=>n.value=!0)})])]),m.value?(w(),F(ve,{key:0,onCancel:o[2]||(o[2]=i=>m.value=!1)})):q("",!0),n.value?(w(),F(Ve,{key:1,onCancel:o[3]||(o[3]=i=>n.value=!1)})):q("",!0)],64))}});export{Pe as default};
//# sourceMappingURL=Preferences-CWHtE-R6.js.map
